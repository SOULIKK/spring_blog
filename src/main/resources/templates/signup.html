<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Sign In</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
            crossorigin="anonymous"></script>

</head>
<style>
    .content-wrapper {
        height: 93vh;
        background: #f5f5f5;
    }

    nav {
        height: 7vh;
        font-size: 1.2rem;
    }

    .content {
        height: 100%;
        overflow: auto;
    }
</style>
<body>
<div>
    <nav class="bg-dark d-flex align-items-center px-3">
        <div class="text-white">KMS BLOG</div>
    </nav>
    <div class="content-wrapper">
        <div class="content col-lg-6 m-auto bg-white px-4">
            <form action="/user/signup" method="post">
                <br>
                <h3 class="text-center fw-bold py-4">회원가입</h3>
                <br>
                <div class="form-group my-3">
                    <label>Email</label>
                    <input class="form-control" name="email" id="email" type="email" autocomplete="off">
                </div>
                <div>
                    <label>User Name</label>
                    <input class="form-control" name="username" id="username" type="text" autocomplete="off">
                </div>
                <div class="form-group my-3">
                    <label>Password</label>
                    <input class="form-control" name="password" id="password" type="password" autocomplete="off">
                <div class="form-group my-3">
                </div>
                    <label>Check Password</label>
                    <input class="form-control" type="password" autocomplete="off">
                </div>
                <br>
                <div class="form-group my-3">
    <!--                <button class="btn btn-primary w-100 my-2" onclick="signUp()">가입하기</button>-->
                    <button type="submit" class="btn btn-primary w-100 my-2">가입하기</button>
                    <button class="btn btn-outline-primary w-100 my-2" onclick="login()">로그인</button>
                </div>
            </form>
        </div>
    </div>
</div>
<script>

    function signUp() {

        let email = $("#email").val();
        let username = $("#username").val();
        let password = $("#password").val();

        if (username == '') {
            alert('이름을 입력해주세요.');
            return false;
        }
        if (email == '') {
            alert('이메일을 입력해주세요.');
            return false;
        }
        if (password == '') {
            alert('비밀번호를 입력해주세요.');
            return false;
        }

        let data = {
            'email': email,
            'username': username,
            'password': password
        }

        $.ajax({
            type: 'POST',
            url: '/user/signup',
            contentType: "application/json",
            data: JSON.stringify(data),
            success: function(res) {
                // alert('회원가입이 완료됐습니다.');
                location.reload();
            }
        });
    }

    function login() {
        location.href = "/login";
    }

</script>
</body>
</html>